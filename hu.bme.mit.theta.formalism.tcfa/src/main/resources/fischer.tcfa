specification Fischer(k : int) {	
	var lock : int
		
	automaton fischer(ref x : clock, i : int) := {	
		init loc sleep { x >= 0 }
		loc wait { x >= 0, x <= k }
		loc try { x >= 0 }
		loc crit { x >= 0 }
		
		sleep -> wait {
			assume lock = 0;
			x := 0
		}
		
		wait -> try {
			lock := i;
			x := 0
		}
		
		try -> wait {
			assume lock = 0;
			x := 0
		}
		
		try -> crit {
			assume x > k;
			assume lock = i
		}
		
		crit -> sleep {
			lock := 0
		}
	}
}